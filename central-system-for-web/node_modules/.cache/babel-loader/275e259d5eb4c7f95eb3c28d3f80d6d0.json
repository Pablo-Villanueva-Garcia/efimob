{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Pablo\\\\proyectosmaster\\\\SEMANA 7\\\\FRONTEND USE DATABASES RECIPES WEEK 6 (victor)\\\\frontrecipes\\\\src\\\\pages\\\\Recipes\\\\new_recipe\\\\newrecipe.js\",\n    _s = $RefreshSig$();\n\nimport { useRef, useState } from \"react\";\nimport { UseCreateRecipe, UseRecipe } from \"../../../hooks/api/index\";\nimport { usePages } from \"../../../hooks/usePages/Usepages\";\nexport const Createrecipe = () => {\n  _s();\n\n  /*Este usestate lo usaremos para mandar sobre el disable del boton de creacion de recetas\r\n  su valor inicial es falso pero al interactuar con el boton aplicaremos un true al setloading \r\n  -lo ideal es integrarlo en la funcion que ejecuta el post para que sea mas limpio el codigo\r\n  const [loading,setloading]=useState(false);\r\n  */\n  const {\n    gotorecipespage\n  } = usePages();\n  /*El uso del useRef por ejemplo con inputs no permite vincular el estado interno del componente\r\n  a una variable de referencia como hemos hecho con title.\r\n  Esto permite que los inputs por ejmeplo , gestionen sus estado interno y preguntarle cuando nos sea necesario\r\n  El contra de todo esto es que a diferencia del onchange no permite controlar los cambios del input */\n\n  const titleref = useRef();\n  const keywordsref = useRef();\n  /*A diferencia del delete en el que teniamos la id por los parametros \r\n  ahora los datos de body nos vienen dados desde el formulario por lo que el valor obtenido \r\n  lo hemos de pasar desde el handle y no previamente como antes*/\n  //const createRecipes = UseCreateRecipe();\n  //actualmente nos traemos el loading valor del usestate y el create que es el post\n\n  const {\n    loading,\n    createRecipes\n  } = UseCreateRecipe();\n\n  const handlecreate = () => {\n    //setloading(true); intengrado en el componente usecreateRecipes\n    const body = {\n      title: titleref.current.value,\n      keywords: keywordsref.current.value.split(',')\n    };\n    createRecipes(body).then(response => gotorecipespage(response.id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"xs100 just_center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex_dir_col centrado\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Nueva Receta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"xs70 flex_dir_col ali_center\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"xs50 mb20\",\n          type: \"text\",\n          placeholder: \"Nombre receta\",\n          ref: titleref\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"xs50 mb20\",\n          type: \"text\",\n          placeholder: \"Keywords\",\n          ref: keywordsref\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"xs30\",\n          onClick: handlecreate,\n          disabled: loading,\n          children: loading ? \"Loading\" : \"Crear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Createrecipe, \"4IBbPExfsqcypkLYZLFHW1sDHkg=\", false, function () {\n  return [usePages];\n});\n\n_c = Createrecipe;\n\nvar _c;\n\n$RefreshReg$(_c, \"Createrecipe\");","map":{"version":3,"sources":["C:/Pablo/proyectosmaster/SEMANA 7/FRONTEND USE DATABASES RECIPES WEEK 6 (victor)/frontrecipes/src/pages/Recipes/new_recipe/newrecipe.js"],"names":["useRef","useState","UseCreateRecipe","UseRecipe","usePages","Createrecipe","gotorecipespage","titleref","keywordsref","loading","createRecipes","handlecreate","body","title","current","value","keywords","split","then","response","id"],"mappings":";;;;;AAAA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,OAAjC;AACA,SAASC,eAAT,EAA0BC,SAA1B,QAA2C,0BAA3C;AACA,SAASC,QAAT,QAAyB,kCAAzB;AACA,OAAO,MAAMC,YAAY,GAAG,MAAK;AAAA;;AAE7B;AACJ;AACA;AACA;AACA;AAGI,QAAM;AAACC,IAAAA;AAAD,MAAmBF,QAAQ,EAAjC;AACA;AACJ;AACA;AACA;;AACI,QAAMG,QAAQ,GAAGP,MAAM,EAAvB;AACA,QAAMQ,WAAW,GAAGR,MAAM,EAA1B;AAEA;AACJ;AACA;AACI;AACA;;AACA,QAAK;AAACS,IAAAA,OAAD;AAASC,IAAAA;AAAT,MAAyBR,eAAe,EAA7C;;AACA,QAAMS,YAAY,GAAG,MAAK;AACtB;AACA,UAAMC,IAAI,GAAC;AACPC,MAAAA,KAAK,EAACN,QAAQ,CAACO,OAAT,CAAiBC,KADhB;AAEPC,MAAAA,QAAQ,EAACR,WAAW,CAACM,OAAZ,CAAoBC,KAApB,CAA0BE,KAA1B,CAAgC,GAAhC;AAFF,KAAX;AAIAP,IAAAA,aAAa,CAACE,IAAD,CAAb,CAAoBM,IAApB,CAAyBC,QAAQ,IAAEb,eAAe,CAACa,QAAQ,CAACC,EAAV,CAAlD;AACH,GAPD;;AAQA,sBACA;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA,8BAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHA,eAIA;AAAK,QAAA,SAAS,EAAC,8BAAf;AAAA,gCACI;AAAO,UAAA,SAAS,EAAC,WAAjB;AAA6B,UAAA,IAAI,EAAC,MAAlC;AAAyC,UAAA,WAAW,EAAC,eAArD;AAAqE,UAAA,GAAG,EAAEb;AAA1E;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,UAAA,SAAS,EAAC,WAAjB;AAA6B,UAAA,IAAI,EAAC,MAAlC;AAAyC,UAAA,WAAW,EAAC,UAArD;AAAgE,UAAA,GAAG,EAAEC;AAArE;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAQ,UAAA,SAAS,EAAC,MAAlB;AAAyB,UAAA,OAAO,EAAEG,YAAlC;AAAgD,UAAA,QAAQ,EAAEF,OAA1D;AAAA,oBACKA,OAAO,GAAG,SAAH,GAAe;AAD3B;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADA;AAkBH,CAjDM;;GAAMJ,Y;UASgBD,Q;;;KAThBC,Y","sourcesContent":["import { useRef, useState } from \"react\";\r\nimport { UseCreateRecipe, UseRecipe } from \"../../../hooks/api/index\";                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \r\nimport { usePages } from \"../../../hooks/usePages/Usepages\";\r\nexport const Createrecipe = () =>{\r\n\r\n    /*Este usestate lo usaremos para mandar sobre el disable del boton de creacion de recetas\r\n    su valor inicial es falso pero al interactuar con el boton aplicaremos un true al setloading \r\n    -lo ideal es integrarlo en la funcion que ejecuta el post para que sea mas limpio el codigo\r\n    const [loading,setloading]=useState(false);\r\n    */\r\n    \r\n\r\n    const {gotorecipespage}= usePages();\r\n    /*El uso del useRef por ejemplo con inputs no permite vincular el estado interno del componente\r\n    a una variable de referencia como hemos hecho con title.\r\n    Esto permite que los inputs por ejmeplo , gestionen sus estado interno y preguntarle cuando nos sea necesario\r\n    El contra de todo esto es que a diferencia del onchange no permite controlar los cambios del input */\r\n    const titleref = useRef();\r\n    const keywordsref = useRef();\r\n\r\n    /*A diferencia del delete en el que teniamos la id por los parametros \r\n    ahora los datos de body nos vienen dados desde el formulario por lo que el valor obtenido \r\n    lo hemos de pasar desde el handle y no previamente como antes*/\r\n    //const createRecipes = UseCreateRecipe();\r\n    //actualmente nos traemos el loading valor del usestate y el create que es el post\r\n    const{loading,createRecipes}= UseCreateRecipe();\r\n    const handlecreate = () =>{\r\n        //setloading(true); intengrado en el componente usecreateRecipes\r\n        const body={\r\n            title:titleref.current.value,\r\n            keywords:keywordsref.current.value.split(','),\r\n        }\r\n        createRecipes(body).then(response=>gotorecipespage(response.id));\r\n    }\r\n    return(\r\n    <div className=\"xs100 just_center\">\r\n        <div className=\"flex_dir_col centrado\">\r\n    \r\n       \r\n        <h1>Nueva Receta</h1>\r\n        <div className=\"xs70 flex_dir_col ali_center\">\r\n            <input className=\"xs50 mb20\" type=\"text\" placeholder=\"Nombre receta\" ref={titleref}></input>\r\n            <input className=\"xs50 mb20\" type=\"text\" placeholder=\"Keywords\" ref={keywordsref}></input>\r\n            <button className=\"xs30\" onClick={handlecreate} disabled={loading}>\r\n                {loading ? \"Loading\" : \"Crear\"}\r\n                </button>\r\n        </div>\r\n        \r\n            \r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}